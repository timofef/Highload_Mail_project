# Highload_Mail_project
## Тема и целевая аудитория
Тема: проектирование высоконагруженного сервиса электронной почты, позволяющего пользователям отправлять и получать письма, которые могут содержать вложения.

Возможности, которые предоставляет пользователю проектируемый сервис:
- Регистрация и авторизация
- Отправка/пересылка писем (письма могут включать вложения до 15 мб)
- Чтение писем
- Постраничное получение списка последних писем из почтового ящика (последние 50)
- Удаление писем

Согласно [radar.yandex](https://radar.yandex.ru/yandex?month=2021-04), в 2021 году месячная аудитория Яндекс.Почты составляет 16 млн пользователей, а дневная 5.5 млн пользователей. По данным для [Яндекс.Почты](https://www.similarweb.com/website/mail.yandex.ru/#overview) и [Почты Mail.ru](https://www.similarweb.com/website/e.mail.ru/#overview), каждый пользователь проводит в среднем по 8-10 минут на сайте.

На основании этих данных обозначим целевые цифры проекта:

- Дневная аудитория проекта - 5.5 млн пользователей
- Количество активных аккаунтов - 50 млн (~35% населения России)
- Сервис будет направлен на Российскую аудиторию.

## Расчет нагрузки
Определим данные среднего пользователя почтового сервиса.

Пусть средний пользователь отправляет 3 письма в день, получает 10 писем в день и проверяет почту в среднем 5 раз в день. По данным Яндекса, средний размер письма без вложений - 4 кб, с вложениями - 400 кб. При этом только 10% писем включают в себя вложения.

RPS по типам запросов:
1. Регистрация и авторизация:

  Пользователь будет регистрироваться или авторизовываться 1 раз в день:
  ```RPS = 5.5 * 10^6 * 1 / (24 * 60 * 60) ~ 64 запроса в секунду```

2. Отправка писем:

    Если считать, что средний пользователь отправляет 3 письма в день, то количество запросов на отправку письма в секунду:
   
    ```RPS = 5.5 * 10^6 * 3 / (24 * 60 * 60) ~ 190 запросов в секунду```

3. Чтение писем:

    Предполагая, что пользователь читает все полученные за день письма (10 писем):
    
    ```RPS = 5.5 * 10^6 * 10 / (24 * 60 * 60) ~ 636 запросов в секунду```

4. Постраничное получение списка последних писем из почтового ящика:

    Считая, что пользователь проверяет почту 5 раз в день, получим:
    
    ```RPS = 5.5 * 10^6 * 5 / (24 * 60 * 60) ~ 318 запросов в секунду```
    
5. Удаление писем:

    
